<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>{% block title %}{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
<nav>
    <div class="header">
        <div class="navbar-brand">Māori Dictionary</div>
        <div class="navbar-links">
            <a id="home" href="/">home</a>
            <a id="categories" href="/categories">categories</a>
            <a id="logout" href="/logout">logout</a>
            <a id="admin" href="/admin">admin</a>
            <a id="login" data-target="#loginModal" role="button" data-toggle="modal">login</a>
        </div>
    </div>
</nav>
<div class="{% block container %}{% endblock %}">
    <header>
        <h1>{% block header %}{% endblock %}</h1>
        <h2>{% block pageheading %}{% endblock %}</h2>
    </header>

    <main>
        {% block main %}
        {% endblock %}
    </main>
</div>
</body>

{# Login Modal #}
 <div id="loginModal" class="modal fade">
      <div class="modal-dialog">
           <div class="modal-content">
                <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal">×</button>
                     <h4 class="modal-title">Login</h4>
                </div>
                <div class="modal-body">
                    <form class="loginform" method="POST" onsubmit="return ValidateLoginForm()">
                        <input type="hidden" name="loginform" value=""/>
                        <div id="login-incorrect" class="incorrect"></div>
                        <div class="form-login-email">
                            <div class="form-label">Email or Username</div>
                            <input type="text" name="login-username" id="login-username" class="form-element"/>
                        </div>
                        <div class="field-incomplete" id="login-username-incomplete"></div>
                        <div class="form-login-password">
                            <div class="form-label" id="login-password-text">Password</div>
                            <input type="password" name="login-password" id="login-password" class="form-element">
                        </div>
                        <div class="field-incomplete" id="login-password-incomplete"></div>
                        <div class="form-login-submit">
                            <input type="submit" value="Login" class="form-submit" id="login-submit">
                        </div>
                        <div class="forgot-password">
                            <p><a data-target="#forgotPasswordModal" role="button" data-toggle="modal" class="closeLoginModal">Forgot Password?</a></p>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <p>Don't have an account yet? <a data-target="#signUpModal" role="button" data-toggle="modal" class="closeLoginModal">Sign Up</a>.</p>
                </div>
           </div>
      </div>
 </div>

{# Forgot Password #}
<div id="forgotPasswordModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                 <button type="button" class="close" data-dismiss="modal">×</button>
                 <h4 class="modal-title">Forgot your Password?</h4>
            </div>
            <div class="modal-body">
                <form class="forgotpasswordform" id="forgotpasswordform" method="POST" onsubmit="return ValidateForgotPasswordForm()">
                    <div id="forgotpassword-incorrect" class="incorrect"></div>
                    {# First name field #}
                    <div class="form-label">First Name</div>
                    <input type="text" name="forgotpassword-firstname" id="forgotpassword-firstname" class="form-element"/>
                    <div class="field-incomplete" id="forgotpassword-firstname-incomplete"></div>
                    {# Last name field #}
                    <div class="form-label">Last Name</div>
                    <input type="text" name="forgotpassword-lastname" id="forgotpassword-lastname" class="form-element"/>
                    <div class="field-incomplete" id="forgotpassword-lastname-incomplete"></div>
                    {# Username field #}
                    <div class="form-label">Username</div>
                    <input type="text" name="forgotpassword-username" id="forgotpassword-username" class="form-element"/>
                    <div class="field-incomplete" id="forgotpassword-username-incomplete"></div>
                    {# Email field #}
                    <div class="form-label">Email</div>
                    <input type="text" name="forgotpassword-email" id="forgotpassword-email" class="form-element"/>
                    <div class="field-incomplete" id="forgotpassword-email-incomplete"></div>
                    {# Password field #}
                    <div class="form-label">Password</div>
                    <input type="password" name="forgotpassword-password" id="forgotpassword-password" class="form-element"/>
                    <div class="field-incomplete" id="forgotpassword-password-incomplete"></div>
                    {# Confirm password field #}
                    <div class="form-label">Confirm Password</div>
                    <input type="password" name="forgotpassword-confirmpassword" id="forgotpassword-confirmpassword" class="form-element"/>
                    <div class="field-incomplete" id="forgotpassword-confirmpassword-incomplete"></div>
                    {# Submit #}
                    <div id="form-forgotpassword-submit">
                        <input type="submit" value="Reset Password" class="form-submit" id="forgotpassword-submit">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <p>Already have an account? <a data-target="#loginModal" role="button" data-toggle="modal" id="closeForgotPasswordModal">Login</a>.</p>
            </div>
        </div>
    </div>
</div>

{# Sign Up Modal #}
<div id="signUpModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                 <button type="button" class="close" data-dismiss="modal">×</button>
                 <h4 class="modal-title">Sign Up</h4>
            </div>
            <div class="modal-body">
                <form class="signupform" id="signupform" method="POST" onsubmit="return ValidateSignUpForm()">
                    <input type="hidden" id="signup-form" name="signup-form" value=""/>
                    {# Student teacher button #}
                    <div class="student-teacher-button" id="student-teacher-button">
                        <button type="button" class="button-student-teacher" id="student-button">Student</button><button type="button" class="button-student-teacher" id="teacher-button">Teacher</button>
                    </div>
                    <div class="field-incomplete" id="signup-button-incomplete"></div>
                    <input type="hidden" name="teacherButton" id="teacherButton" value="Student"/>
                    {# First name field #}
                    <div class="form-label">First Name</div>
                    <input type="text" name="signup-firstname" id="signup-firstname" class="form-element"/>
                    <div class="field-incomplete" id="signup-firstname-incomplete"></div>
                    {# Last name field #}
                    <div class="form-label">Last Name</div>
                    <input type="text" name="signup-lastname" id="signup-lastname" class="form-element"/>
                    <div class="field-incomplete" id="signup-lastname-incomplete"></div>
                    {# Username field #}
                    <div class="form-label">Username</div>
                    <input type="text" name="signup-username" id="signup-username" class="form-element"/>
                    <div class="field-incomplete" id="signup-username-incomplete"></div>
                    {# Email field #}
                    <div class="form-label">Email</div>
                    <input type="text" name="signup-email" id="signup-email" class="form-element"/>
                    <div class="field-incomplete" id="signup-email-incomplete"></div>
                    {# Password field #}
                    <div class="form-label">Password</div>
                    <input type="password" name="signup-password" id="signup-password" class="form-element"/>
                    <div class="field-incomplete" id="signup-password-incomplete"></div>
                    {# Confirm password field #}
                    <div class="form-label">Confirm Password</div>
                    <input type="password" name="signup-confirmpassword" id="signup-confirmpassword" class="form-element"/>
                    <div class="field-incomplete" id="signup-confirmpassword-incomplete"></div>
                    {# Submit #}
                    <div id="form-signup-submit">
                        <input type="submit" value="Sign Up" class="form-submit" id="signup-submit">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <p>Already have an account? <a data-target="#loginModal" role="button" data-toggle="modal" id="closeSignUpModal">Login</a>.</p>
            </div>
        </div>
    </div>
</div>
<script>
    function checkLogin(logged_in) {
        const loginElement = document.getElementById("login")
        const logoutElement = document.getElementById("logout")
        const adminElement = document.getElementById("admin")
        if (logged_in) {
            loginElement.classList.add("hidden")
            logoutElement.classList.remove("hidden")
            adminElement.classList.remove("hidden")
        } else {
            loginElement.classList.remove("hidden")
            logoutElement.classList.add("hidden")
            adminElement.classList.add("hidden")
        }
    }

    requestAnimationFrame(function() {
        checkLogin({{ logged_in }})
    })

    function setValue(colourId, colour, textId, text, fail) {
        document.getElementById(colourId).style.borderColor = colour
        document.getElementById(textId).innerText = text
        return fail
    }

    function clearValue(inputValues) { // Function for clearing the value of elements by their id
        for (const value of inputValues) {
            document.getElementById(value).value = ""
        }
    }

    function clearText(inputText) { // Function for clearing the text of elements by their id
        for (const text of inputText) {
            document.getElementById(text).innerText = ""
        }
    }

    function clearColour(inputColour) { // Function for clearing the border colour
        for (const colour of inputColour) {
            document.getElementById(colour).style.borderColor = "#000"
        }
    }

    function removeTeacherButtonInput() { // Remove the teacher button input
        const teacherButton = document.getElementById("teacher-button")
        if (teacherButton.classList.contains("active")) {
            teacherButton.classList.remove("active")
        }
    }

    function removeStudentButtonInput() { // Remove the student button input
        const studentButton = document.getElementById("student-button")
        if (studentButton.classList.contains("active")) {
            studentButton.classList.remove("active")
        }
    }

    const failedTextColour = "#e54b72"
    const firstnameMaxLength = 64
    const lastnameMaxLength = 64
    const usernameMaxLength = 32
    const emailMaxLength = 64
    const emailMinLength = 4
    const passwordMinLength = 8


    function ValidateLoginForm() { // Function for validating the login form
        (async () => { // Use an async to get whether the username & email are already used in the database
            try { // use try catch just in case
                const emailUsernameInput = document.getElementById("login-username").value.trim() // .trim() is used to clear the whitespace at start/end of string (same as .strip() in python)
                const passwordInput = document.getElementById("login-password").value.trim()
                const data = {emailusername: emailUsernameInput, password: passwordInput}
                const response = await fetch('/getlogininformation', { // fetch /getlogininformation from app.py
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json'
                  },
                  body: JSON.stringify(data) // parse through the data (email and username input)
                })
                const responseText = await response.json() // wait for the response
                clearText(["login-incorrect", "login-username-incomplete", "login-password-incomplete"])
                clearColour(["login-username", "login-password"])
                let fail = false
                // Don't notify the user of the email/username/password constraints (security reasons)
                if (emailUsernameInput.length === 0) {
                    fail = setValue("login-username", failedTextColour, "login-username-incomplete", ".Email or Username is required", true)
                }
                if (passwordInput.length === 0) {
                    fail = setValue("login-password", failedTextColour, "login-password-incomplete", ".Password is required", true)
                }
                if (emailUsernameInput.length > 0 && passwordInput.length > 0 && !responseText.validLogin) {
                    document.getElementById("login-incorrect").innerText = "Incorrect email/username or password"
                    document.getElementById("login-username").style.borderColor = failedTextColour
                    document.getElementById("login-password").style.borderColor = failedTextColour
                    fail = true
                }
                if (!fail) {
                    checkLogin(true)
                    const formData = {
                        "type": "login",
                        "userid": responseText.userId
                    }
                    $.ajax({
                        type: 'POST',
                        url: "{{url_for('home')}}",
                        contentType: "application/json",
                        data: JSON.stringify(formData)
                    })
                    $('#loginModal').modal('hide') // close login up modal
                }
            } catch (error) {
                console.error(error)
            }
        })()
        return false
    }

    function ValidateForgotPasswordForm() { // Function for validating the forgot password form
        (async () => { // Use an async to get whether this data exists in the database for the password reset
            try { // use try catch just in case
                const firstNameInput = document.getElementById("forgotpassword-firstname").value.trim()
                const lastNameInput = document.getElementById("forgotpassword-lastname").value.trim()
                const usernameInput = document.getElementById("forgotpassword-username").value.trim()
                const emailInput = document.getElementById("forgotpassword-email").value.trim()
                const passwordInput = document.getElementById("forgotpassword-password").value.trim()
                const confirmPasswordInput = document.getElementById("forgotpassword-confirmpassword").value.trim()
                const data = {firstname: firstNameInput, lastname: lastNameInput, username: usernameInput, email: emailInput}
                const response = await fetch('/getchangepasswordinformation', { // fetch /getchangepasswordinformation from app.py
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json'
                  },
                  body: JSON.stringify(data) // parse through the data (email and username input)
                })
                const responseText = await response.json() // wait for the response
                document.getElementById("forgotpassword-incorrect").classList.remove("successful")
                clearText(["forgotpassword-incorrect", "forgotpassword-firstname-incomplete", "forgotpassword-lastname-incomplete", "forgotpassword-username-incomplete", "forgotpassword-email-incomplete", "forgotpassword-password-incomplete", "forgotpassword-confirmpassword-incomplete"])
                clearColour(["forgotpassword-firstname", "forgotpassword-lastname", "forgotpassword-username", "forgotpassword-email", "forgotpassword-password", "forgotpassword-confirmpassword"])
                let fail = false // variable used throughout to check if the data is valid
                // Iterate over fields to check if they have any input, if they don't notify their respected error message
                const elementsToCheck = ["forgotpassword-firstname", "forgotpassword-lastname", "forgotpassword-username", "forgotpassword-email", "forgotpassword-password", "forgotpassword-confirmpassword"]
                const elementMessages = {
                    "forgotpassword-firstname": ".First name is required",
                    "forgotpassword-lastname": ".Last name is required",
                    "forgotpassword-username": ".Username is required",
                    "forgotpassword-email": ".Email is required",
                    "forgotpassword-password": ".Password is required",
                    "forgotpassword-confirmpassword": ".Password confirmation is required"
                }
                for (const x in elementsToCheck) {
                    const elementId = elementsToCheck[x]
                    const element = document.getElementById(elementId).value.trim()
                    if (element.length === 0) {
                        fail = setValue(elementId, failedTextColour, `${elementId}-incomplete`, elementMessages[elementId], true)
                    }
                }
                if (firstNameInput.length > 0 && lastNameInput.length > 0 && usernameInput.length > 0 && emailInput.length > 0 && (passwordInput.length > 0 || confirmPasswordInput.length > 0)) {
                    if (passwordInput !== confirmPasswordInput) {
                        fail = setValue("forgotpassword-password", failedTextColour, "forgotpassword-password-incomplete", ".Passwords do not match", true)
                        setValue("forgotpassword-confirmpassword", failedTextColour, "forgotpassword-confirmpassword-incomplete", ".Passwords do not match", true)
                    } else if (passwordInput.length < passwordMinLength) {
                        fail = setValue("forgotpassword-password", failedTextColour, "forgotpassword-password-incomplete", ".Password must be at least 8 characters long", true)
                        setValue("forgotpassword-confirmpassword", failedTextColour, "forgotpassword-confirmpassword-incomplete", ".Password must be at least 8 characters long", true)
                    } else if (!responseText.validInformation) {
                        fail = true
                        document.getElementById("forgotpassword-incorrect").innerText = "Unable to reset password - Invalid Credentials"
                        for (const x in elementsToCheck) {
                            document.getElementById(elementsToCheck[x]).style.borderColor = failedTextColour
                        }
                    }
                }
                if (!fail) { // Allow user to change password
                    const formData = {
                        "type": "resetpassword",
                        "username": usernameInput,
                        "newpassword": passwordInput
                    }
                    $.ajax({
                        type: 'POST',
                        url: "{{url_for('home')}}",
                        contentType: "application/json",
                        data: JSON.stringify(formData)
                    })
                    document.getElementById("forgotpassword-incorrect").classList.add("successful")
                    document.getElementById("forgotpassword-incorrect").innerText = "Successfully Reset Password"
                }
            } catch (error) {
            console.log(error)
            }
        })()
        return false
    }

    function ValidateSignUpForm() { // Function for validating the sign-up form
        (async () => { // Use an async to get whether the username & email are already used in the database
            try { // use try catch just in case
                const usernameInput = document.getElementById("signup-username").value.trim()
                const emailInput = document.getElementById("signup-email").value.trim()
                const data = {email: emailInput, username: usernameInput}
                const response = await fetch('/getsignupinformation', { // fetch /getsignupinformation from app.py
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json'
                  },
                  body: JSON.stringify(data) // parse through the data (email and username input)
                })
                const responseText = await response.json() // wait for the response
                let usernameInUse = responseText.usernameUsed
                let emailInUse = responseText.emailUsed
                // clear the text and colour from previous errors
                clearText(["signup-button-incomplete", "signup-firstname-incomplete", "signup-lastname-incomplete", "signup-username-incomplete", "signup-email-incomplete", "signup-password-incomplete", "signup-confirmpassword-incomplete"])
                clearColour(["teacher-button", "student-button", "signup-firstname", "signup-lastname", "signup-username", "signup-email", "signup-password", "signup-confirmpassword"])
                let fail = false // variable used throughout the check if the data the user inputted is valid
                const teacherButton = document.getElementById("teacher-button").classList.contains("active")
                const studentButton = document.getElementById("student-button").classList.contains("active")
                if (!studentButton && !teacherButton) { // If a button isn't selected, highlight this as an error
                    document.getElementById("teacher-button").style.borderColor = failedTextColour
                    fail = setValue("student-button", failedTextColour, "signup-button-incomplete", ".Selecting student or teacher is required", true)
                }
                // Iterate over fields to check if they have any input, if they don't notify their respected error message
                const elementsToCheck = ["signup-firstname", "signup-lastname", "signup-username", "signup-email", "signup-password", "signup-confirmpassword"]
                const elementMessages = {
                    "signup-firstname": ".First name is required",
                    "signup-lastname": ".Last name is required",
                    "signup-username": ".Username is required",
                    "signup-email": ".Email is required",
                    "signup-password": ".Password is required",
                    "signup-confirmpassword": ".Password confirmation is required"
                }
                for (const x in elementsToCheck) {
                    const elementId = elementsToCheck[x]
                    const element = document.getElementById(elementId).value.trim()
                    if (element.length === 0) {
                        fail = setValue(elementId, failedTextColour, `${elementId}-incomplete`, elementMessages[elementId], true)
                    }
                }
                const firstNameInput = document.getElementById("signup-firstname").value.trim()
                if (firstNameInput.length > firstnameMaxLength) { // Limit first name input to 64 characters
                    fail = setValue("signup-firstname", failedTextColour, "signup-firstname-incomplete", ".First name must be no more than 64 characters", true)
                }
                const lastNameInput = document.getElementById("signup-lastname").value.trim()
                if (lastNameInput.length > lastnameMaxLength) { // Limit last name input to 64 characters
                    fail = setValue("signup-lastname", failedTextColour, "signup-lastname-incomplete", ".Last name must be no more than 64 characters", true)
                }
                if (usernameInput.length > usernameMaxLength) { // Limit username name input to 64 characters
                    fail = setValue("signup-username", failedTextColour, "signup-username-incomplete", ".Username must be no more than 32 characters", true)
                } else if (usernameInUse) { // Disallow duplicate usernames
                    fail = setValue("signup-username", failedTextColour, "signup-username-incomplete", ".This username is already in use", true)
                }
                if (emailInput.length > 0) { // Ensure that the email input is at least one character long
                    if (emailInput.length > emailMaxLength || emailInput.length < emailMinLength) { // Limit email address to be between 4-64 characters
                        fail = setValue("signup-email", failedTextColour, "signup-email-incomplete", ".Email must be between 4-64 characters", true)
                    } else if (!(emailInput.includes('@') && emailInput.split('@')[emailInput.split('@').length - 1].includes('.'))) { // "very.(),:;<>[]\".VERY.\"very@\\ \"very\".unusual"@strange.example.com <- this email address is valid, so this should accept that
                        fail = setValue("signup-email", failedTextColour, "signup-email-incomplete", ".Email must include '@' and '.' afterwards", true)
                    } else if (emailInUse) { // Disallow duplicate email addresses
                        fail = setValue("signup-email", failedTextColour, "signup-email-incomplete", ".This email address is already in use", true)
                    }
                }
                const passwordInput = document.getElementById("signup-password").value.trim()
                const confirmPasswordInput = document.getElementById("signup-confirmpassword").value.trim()
                if (passwordInput.length > 0 || confirmPasswordInput.length > 0) { // Ensure that the password input or confirm password input is at least one character long
                    if (passwordInput.length > 0 && passwordInput !== confirmPasswordInput) { // passwords must be equal
                        fail = setValue("signup-password", failedTextColour, "signup-password-incomplete", ".Passwords do not match", true)
                        setValue("signup-confirmpassword", failedTextColour, "signup-confirmpassword-incomplete", ".Passwords do not match", true)
                    } else if (passwordInput.length < passwordMinLength) { // password should have to be at least 8 characters
                        fail = setValue("signup-password", failedTextColour, "signup-password-incomplete", ".Password must be at least 8 characters long", true)
                        setValue("signup-confirmpassword", failedTextColour, "signup-confirmpassword-incomplete", ".Password must be at least 8 characters long", true)
                    }
                }
                if (!fail) { // Data has been validated, sign up the user
                    const formData = {
                        "type": "signup",
                        "role": document.getElementById("teacher-button").classList.contains("active"),
                        "firstname": document.getElementById("signup-firstname").value,
                        "lastname": document.getElementById("signup-lastname").value,
                        "username": document.getElementById("signup-username").value,
                        "email": document.getElementById("signup-email").value,
                        "password": document.getElementById("signup-password").value
                    }
                    $.ajax({
                        type: 'POST',
                        url: "{{url_for('home')}}",
                        contentType: "application/json",
                        data: JSON.stringify(formData)
                    })
                    $('#signUpModal').modal('hide') // close sign up modal
                    $('#loginModal').modal('show') // open login modal
                }
            } catch (error) {
                console.error(error)
            }
        })()
        return false // cancel the form as the data is being managed by ajax
    }

    $('#student-button').click(function() { // Manage the click event of the student button (in sign up)
        if (!document.getElementById("student-button").classList.contains("active")) {
            document.getElementById("student-button").classList.add("active")
            removeTeacherButtonInput()
        } else {
            removeStudentButtonInput()
        }
    })

    $('#teacher-button').click(function() { // Manage the click event of the teacher button (in sign up)
        if (!document.getElementById("teacher-button").classList.contains("active")) {
            document.getElementById("teacher-button").classList.add("active")
            removeStudentButtonInput()
        } else {
            removeTeacherButtonInput()
        }
    })

    $('#loginModal').on('hidden.bs.modal', function() { // Login modal close event
        clearValue(["login-username", "login-password"])
        clearText(["login-incorrect", "login-username-incomplete", "login-password-incomplete"])
        clearColour(["login-username", "login-password"])
    })

    $('#forgotPasswordModal').on('hidden.bs.modal', function() { // Forgot password modal close event
        document.getElementById("forgotpassword-incorrect").classList.remove("successful")
        clearValue(["forgotpassword-firstname", "forgotpassword-lastname", "forgotpassword-username", "forgotpassword-email", "forgotpassword-password", "forgotpassword-confirmpassword"])
        clearText(["forgotpassword-incorrect", "forgotpassword-firstname-incomplete", "forgotpassword-lastname-incomplete", "forgotpassword-username-incomplete", "forgotpassword-email-incomplete", "forgotpassword-password-incomplete", "forgotpassword-confirmpassword-incomplete"])
        clearColour(["forgotpassword-firstname", "forgotpassword-lastname", "forgotpassword-username", "forgotpassword-email", "forgotpassword-password", "forgotpassword-confirmpassword"])
    })

    $('#signUpModal').on('hidden.bs.modal', function() { // Sign up modal close event
        removeTeacherButtonInput()
        removeStudentButtonInput()
        clearValue(["teacher-button", "student-button", "signup-firstname", "signup-lastname", "signup-username", "signup-email", "signup-password", "signup-confirmpassword"])
        clearText(["signup-button-incomplete", "signup-firstname-incomplete", "signup-lastname-incomplete", "signup-username-incomplete", "signup-email-incomplete", "signup-password-incomplete", "signup-confirmpassword-incomplete"])
        clearColour(["teacher-button", "student-button", "signup-firstname", "signup-lastname", "signup-username", "signup-email", "signup-password", "signup-confirmpassword"])
    })

    $('.closeLoginModal').click(function() { // On clicking login modal close button, close modal (this is a class as it is called multiple times)
        $('#loginModal').modal('hide')
    })

        $('#closeForgotPasswordModal').click(function() { // On clicking forgot password modal close button, close modal
        $('#forgotPasswordModal').modal('hide')
    })

    $('#closeSignUpModal').click(function() { // On clicking sign up modal close button, close modal
        $('#signUpModal').modal('hide')
    })
</script>
</html>